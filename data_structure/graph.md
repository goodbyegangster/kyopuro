# グラフ

## グラフの構成要素

以下の要素よりなる

- 頂点 (vertex)
- 辺 (edge)

## グラフの種類

- 無向グラフ (Undirected Graph)
  - `辺` の向きがないもの
- 有向グラフ (Directed Graph)
  - `辺` の向きがあるもの

## コンピューター上で扱う方法

### 隣接行列を２次元表として表現する方法

隣接行列とは、

> グラフ理論および計算機科学において、隣接行列（りんせつぎょうれつ、英: adjacency matrix）は、有限グラフを表わすために使われる正方行列である。この行列の要素は、頂点の対がグラフ中で隣接（英語版）しているか否かを示す。

[Wikipedia - 隣接行列](https://ja.wikipedia.org/wiki/%E9%9A%A3%E6%8E%A5%E8%A1%8C%E5%88%97)

以下のような二次元表のイメージとなる。

「ある頂点」と「ある頂点」が隣接している場合の値を `True` とし、それぞれ頂点ごとの隣接頂点を管理する。例えば、`頂点0` は `頂点1` と `頂点2` と隣接していることを意味する。

|     |  0  |  1  |  2  |  3  |
| :-: | :-: | :-: | :-: | :-: |
|  0  |  F  |  T  |  T  |  F  |
|  1  |  T  |  F  |  F  |  T  |
|  2  |  T  |  F  |  F  |  F  |
|  3  |  F  |  T  |  F  |  F  |

この行列を、２次元リストでそのまま表現することができる。

_イメージ_

```python
graph = [
    [False, True,  True,  False],
    [True,  False, False, True],
    [True,  False, False, False],
    [False, True,  False, False]
]
```

### 各頂点の隣接リストをリストで管理する方法

- ２次元配列を利用
- 各頂点の隣接する辺（隣接リスト）を、リストで管理する
  - 頂点ごとに、隣接する辺のリストをつくる

_イメージ_

下記例では、`頂点0` は `頂点1` と `頂点2` と `頂点6` と隣接していることを表す。

```python
graph = [[1, 2, 6], [5, 7], [7], [3, 6]]
```

## コード

```python
def graph() -> list:
    # 要素数を入力
    # V...頂点の数
    # E...辺の数
    V, E = map(int, input().split())

    # グラフを格納する２次元リストを用意
    G: list = [[] for _ in range(V)]

    # 辺毎の隣接リストを受け取って、２次元リストに格納
    for _ in range(E):
        # 辺のリストを入力
        A, B = map(int, input().split())
        # 頂点Aから頂点Bを示す情報を格納
        G[A].append(B)
        # 無向グラフの場合は、反対の情報も格納
        # G[B].append(A)
    return G

print(graph())  # noqa
# 有向グラフ： [[1, 2], [2, 3], [3], []]
# 無向グラフ： [[1, 2], [0, 2, 3], [0, 1, 3], [1, 2]]
"""
入力値：
4 5
0 1
0 2
1 2
1 3
2 3
"""
```

## 参考資料

- [アルゴ式 グラフ理論の用語を整理する！](https://algo-method.com/descriptions/105)
- [アルゴ式 グラフの入力データを受け取る](https://algo-method.com/descriptions/106)
